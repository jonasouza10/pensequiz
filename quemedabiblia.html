<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Quem √â da B√≠blia?</title>
    <link rel="manifest" href="manifest.json">
    <meta name="theme-color" content="#1a1a1a">
    <style>
        body {
            margin: 0;
            background: linear-gradient(to bottom, #1a1a1a, #2c3e50);
            color: #00ff00;
            font-family: monospace;
            padding: 20px;
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            align-items: center; /* Centraliza o conte√∫do horizontalmente */
            justify-content: center; /* Centraliza o conte√∫do verticalmente */
        }
        #terminal-container {
            width: 90%;
            max-width: 600px;
            margin-bottom: 10px;
            display: flex;
            flex-direction: column;
            align-items: center;
        }
        #terminal {
            height: 400px;
            width: 100%;
            background: rgba(0, 0, 0, 0.9);
            border: 2px solid #00ff00;
            padding: 15px;
            overflow-y: auto;
            white-space: pre-wrap;
            margin-bottom: 10px;
            border-radius: 5px;
            box-sizing: border-box; /* Garante que padding e border sejam inclu√≠dos na largura */
        }
        #buttonArea {
            display: flex;
            gap: 10px;
            margin-bottom: 10px;
        }
        button {
            background: #00ff00;
            color: #1a1a1a;
            border: none;
            padding: 10px 20px;
            font-family: monospace;
            font-size: 1.1em;
            cursor: pointer;
            border-radius: 5px;
            transition: background 0.3s;
        }
        button:hover:not(:disabled) {
            background: #00cc00;
        }
        button:disabled {
            background: #555;
            cursor: not-allowed;
        }
        button:focus {
            outline: 2px solid #00ff00;
        }
        footer {
            font-size: 0.8em;
            color: #008800;
            text-align: center;
            margin-top: auto; /* Empurra o rodap√© para a parte inferior */
            padding-top: 20px;
        }
        .modal {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.8);
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 1000;
            visibility: hidden;
            opacity: 0;
            transition: opacity 0.3s ease;
        }
        .modal.active {
            visibility: visible;
            opacity: 1;
        }
        .modal-content {
            background: #1a1a1a;
            border: 2px solid #00ff00;
            padding: 20px;
            border-radius: 5px;
            text-align: center;
            max-width: 400px;
            width: 90%;
            color: #00ff00;
        }
        .modal-content button {
            margin: 10px 5px 0 5px; /* Adicionado margem para espa√ßar bot√µes */
        }
        /* Responsividade b√°sica */
        @media (max-width: 600px) {
            body {
                padding: 10px;
            }
            #terminal {
                height: 300px;
                padding: 10px;
            }
            #buttonArea {
                flex-direction: column;
            }
            button {
                width: 100%;
            }
        }
    </style>
</head>
<body>
    <div id="terminal-container">
        <div id="terminal" role="log" aria-live="polite" aria-label="Terminal de diagn√≥stico"></div>
        <div id="buttonArea">
            <button id="simBtn" aria-label="Responder Sim" disabled>Sim</button>
            <button id="naoBtn" aria-label="Responder N√£o" disabled>N√£o</button>
        </div>
    </div>
    <footer>¬© 2025 PenseQuiz.com ‚òÅÔ∏è</footer>

    <div id="start-modal" class="modal active" role="dialog" aria-modal="true" aria-labelledby="modal-title" aria-describedby="modal-description">
        <div class="modal-content">
            <h2 id="modal-title">Quem √â da B√≠blia?</h2>
            <p id="modal-description">Pense em um personagem b√≠blico. Responda a 10 perguntas com "Sim" ou "N√£o" para eu adivinhar! üòá</p>
            <button id="startGameBtn" aria-label="Iniciar jogo">Iniciar Jornada</button>
        </div>
    </div>

    <div id="result-modal" class="modal" role="dialog" aria-modal="true" aria-labelledby="result-modal-title" aria-describedby="result-modal-description">
        <div class="modal-content">
            <h2 id="result-modal-title">Diagn√≥stico Conclu√≠do!</h2>
            <p id="result-modal-description"></p>
            <button id="restartGameBtn" aria-label="Reiniciar jogo">Reiniciar</button>
        </div>
    </div>

    <script>
        // Array de perguntas para o jogo
        const perguntas = [
            "√â do Antigo Testamento?",
            "√â um homem?",
            "Foi rei?",
            "Fez milagres?",
            "Esteve com Jesus?",
            "Foi profeta?",
            "Enfrentou um ex√©rcito ou grandes adversidades?",
            "Libertou o povo de Deus ou desempenhou um papel crucial em sua liberta√ß√£o?",
            "Foi disc√≠pulo direto de Jesus (ap√≥stolo ou seguidor pr√≥ximo)?",
            "√â conhecido por sua sabedoria ou grande discernimento?",
            "Escreveu um livro da B√≠blia (ou uma grande parte)?",
            "Era sacerdote ou levita?",
            "Foi juiz de Israel ou l√≠der militar?",
            "Viveu antes do dil√∫vio?",
            "Era da linhagem de Davi ou relacionado √† realeza judaica?",
            "Foi um grande construtor (templo, arca, cidades)?",
            "Sofreu grande persegui√ß√£o por sua f√©?",
            "√â conhecido por sua f√© inabal√°vel, mesmo em prova√ß√µes?",
            "Viajou extensivamente para espalhar a mensagem de Deus?",
            "Teve um chamado divino ou uma revela√ß√£o especial?",
            "√â conhecido por sua humildade?",
            "Foi pastor de ovelhas (literalmente ou de forma simb√≥lica)?",
            "Teve m√∫ltiplos nomes ao longo de sua vida b√≠blica?",
            "√â uma figura proeminente no livro de G√™nesis?",
            "Sua morte √© descrita como violenta ou incomum na B√≠blia?",
            // Novas 50 perguntas adicionadas
            "Foi escravizado ou exilado em terra estrangeira?",
            "Foi enganado ou tra√≠do por um parente pr√≥ximo?",
            "Teve vis√µes ou sonhos prof√©ticos?",
            "Casou-se m√∫ltiplas vezes?",
            "Foi um l√≠der militar vitorioso?",
            "Morreu em batalha?",
            "√â conhecido por sua for√ßa f√≠sica excepcional?",
            "Foi o primog√™nito de seus pais?",
            "Tinha irm√£os not√°veis na B√≠blia?",
            "Foi salvo da morte ainda crian√ßa?",
            "Teve um filho que se tornou uma figura importante?",
            "Seu nome foi mudado por Deus ou um anjo?",
            "Era uma mulher profetisa ou ju√≠za?",
            "Foi chamado enquanto cuidava de rebanhos?",
            "Seu minist√©rio envolveu jejum prolongado?",
            "Foi confrontado diretamente por um anjo?",
            "Foi levado ao c√©u sem experimentar a morte?",
            "Sua vida envolveu uma grande jornada ou migra√ß√£o?",
            "Foi desobediente a Deus em algum momento cr√≠tico?",
            "√â um dos doze filhos de Jac√≥?",
            "Foi vendido como escravo por seus irm√£os?",
            "Interpretou sonhos?",
            "Foi governador de uma na√ß√£o estrangeira?",
            "Teve um relacionamento pr√≥ximo com um rei?",
            "Foi sepultado em um local espec√≠fico e conhecido?",
            "√â associado a um per√≠odo de grande seca ou fome?",
            "Enfrentou um advers√°rio gigante?",
            "Foi curado de uma doen√ßa grave por interven√ß√£o divina?",
            "Foi tentado diretamente pelo diabo?",
            "Pregou o arrependimento no deserto?",
            "Foi o √∫ltimo juiz de Israel?",
            "Ungiu reis?",
            "Sua hist√≥ria envolve um sacrif√≠cio quase-fatal de um filho?",
            "Foi pai de muitas na√ß√µes?",
            "Sua hist√≥ria envolve um dil√∫vio?",
            "Foi alvo de um plano de assassinato por um rei?",
            "Sua vida √© marcada por um pacto direto com Deus?",
            "√â conhecido por sua paci√™ncia em meio ao sofrimento?",
            "Foi um escriba ou estudioso da lei?",
            "Sua vida √© tema de um livro prof√©tico menor?",
            "Foi enviado para pregar em uma cidade estrangeira que era inimiga de Israel?",
            "Seu nome significa \"risada\" ou \"ele ri\"?",
            "Foi o pai de um profeta famoso?",
            "Teve um irm√£o que cometeu um assassinato?",
            "Foi um construtor de um altar significativo?",
            "Sua f√© foi testada com a exig√™ncia de deixar sua terra natal?",
            "√â uma figura central na hist√≥ria do √äxodo?",
            "Morreu em idade avan√ßada e foi sepultado em paz?",
            "Sua hist√≥ria termina com ele sendo levado ao c√©u?",
            "√â reverenciado por judeus, crist√£os e mu√ßulmanos?",
        ];

        // Array de personagens suspeitos com seus perfis de resposta para cada pergunta
        const suspeitas = [
            { nome: "Mois√©s", perfil: [true, true, false, true, false, true, true, true, false, false, true, false, false, false, false, true, false, true, false, true, true, false, false, false, false, true, false, true, false, true, false, false, false, true, true, false, false, false, true, true, true, false, true, true, false, false, false, false, false, true, false, false, false, false, true, false, false, false, false, false, true, true, true, true, false, false, false, false, false, true, false, true, true, false, true] },
            { nome: "Davi", perfil: [true, true, true, false, false, false, true, false, false, true, true, false, false, false, true, false, true, true, false, true, true, true, false, false, false, true, true, false, true, true, false, true, false, true, false, true, false, false, true, true, true, false, true, true, false, false, false, false, true, true, true, true, false, true, false, false, false, false, false, false, true, true, true, true, false, false, false, false, true, true, true, false, true, false, true] },
            { nome: "Ester", perfil: [true, false, false, false, false, false, false, true, false, false, false, false, false, false, false, false, false, true, false, false, true, false, false, false, false, true, false, false, false, false, false, false, false, false, false, false, false, false, false, true, false, false, true, false, false, false, false, false, true, false, false, false, false, false, false, false, false, false, false, false, false, false, true, false, false, false, false, false, false, false, true, false, false, false, false] },
            { nome: "Pedro", perfil: [false, true, false, true, true, false, false, false, true, false, true, false, false, false, false, false, true, true, true, true, true, true, false, false, true, true, false, true, false, false, false, false, true, true, false, false, true, false, true, true, true, false, true, true, false, false, false, false, false, true, false, false, true, true, false, false, false, false, false, false, true, true, true, false, false, false, false, false, false, false, true, false, false, false, true] },
            { nome: "Salom√£o", perfil: [true, true, true, false, false, false, false, false, false, true, true, false, false, false, true, true, false, false, false, true, false, false, false, false, false, false, false, true, true, false, false, false, false, true, false, true, false, false, false, false, false, false, false, true, false, false, true, false, true, true, false, false, false, false, false, false, false, false, false, false, false, true, false, true, false, false, false, false, true, true, false, false, true, false, true] },
            { nome: "Paulo", perfil: [false, true, false, true, true, true, false, false, true, true, true, false, false, false, false, false, true, true, true, true, true, false, true, false, true, true, false, true, false, false, false, false, false, false, false, false, true, false, false, true, true, false, true, false, false, false, false, false, false, true, false, false, true, true, false, false, false, false, false, false, true, true, true, true, false, true, false, false, false, false, true, false, false, false, true] },
            { nome: "Jesus", perfil: [false, true, false, true, true, true, true, true, true, true, false, true, false, false, true, false, true, true, true, true, true, true, false, false, true, false, true, true, false, false, false, false, true, true, true, false, false, false, false, true, true, true, true, false, false, false, false, false, false, true, false, false, true, true, true, false, false, false, false, false, true, true, true, true, false, false, false, false, false, false, false, false, false, true, true] },
            { nome: "Abra√£o", perfil: [true, true, false, false, false, false, false, false, false, true, false, false, false, false, false, false, false, true, true, true, true, true, true, true, false, false, false, true, true, true, false, false, true, true, false, true, true, false, true, false, true, false, true, true, false, false, false, false, true, true, true, false, false, false, false, false, false, true, true, false, false, true, true, false, false, false, false, true, false, true, true, false, true, false, true] },
            { nome: "Isa√≠as", perfil: [true, true, false, false, false, true, false, false, false, true, true, false, false, false, false, false, true, true, false, true, true, false, false, false, false, false, false, true, false, false, false, false, false, false, false, true, false, false, false, false, false, false, false, false, false, false, false, false, true, false, false, false, false, false, false, false, false, false, false, false, true, false, true, true, false, false, false, false, false, false, false, false, true, false, true] },
            { nome: "Maria (m√£e de Jesus)", perfil: [false, false, false, false, true, false, false, false, false, false, false, false, false, false, true, false, true, true, false, true, true, false, false, false, false, true, false, true, false, false, false, false, false, false, true, true, false, false, false, false, true, false, true, false, false, false, false, false, false, false, false, false, false, false, false, false, false, true, false, false, true, true, true, false, false, false, false, true, false, false, true, false, true, false, true] },
            { nome: "Jo√£o Batista", perfil: [true, true, false, false, true, true, false, false, false, false, false, true, false, false, true, false, true, true, false, true, true, false, false, false, true, false, false, true, false, false, false, false, true, false, false, false, false, false, false, true, true, false, false, false, false, false, false, false, true, false, false, false, false, false, true, false, false, false, false, false, true, true, true, false, false, false, false, true, false, false, false, false, false, false, true] },
            { nome: "Josu√©", perfil: [true, true, false, false, false, false, true, true, false, false, true, false, true, false, false, false, false, true, true, true, true, false, false, false, false, true, false, true, false, true, false, false, false, false, false, false, true, false, false, false, true, false, true, false, false, false, false, false, false, true, false, false, false, false, false, false, false, false, false, false, false, true, true, true, false, false, false, false, false, true, true, true, true, false, true] },
            { nome: "Elias", perfil: [true, true, false, true, false, true, true, false, false, false, false, false, false, false, false, false, true, true, true, true, false, false, false, false, false, true, false, true, false, false, false, false, false, false, false, true, true, true, true, true, true, true, true, false, false, false, false, false, true, false, true, false, false, false, true, false, true, false, false, false, true, true, false, false, false, false, false, true, false, true, true, false, false, true, true] },
            { nome: "Rute", perfil: [true, false, false, false, false, false, false, true, false, false, false, false, false, false, true, false, false, true, false, false, true, false, false, false, false, true, false, false, true, false, false, false, false, false, false, true, false, false, false, false, false, false, true, false, false, false, false, false, false, false, true, false, false, false, false, false, false, false, false, false, false, false, true, false, false, false, false, false, false, false, true, false, true, false, false] },
            { nome: "Daniel", perfil: [true, true, false, false, false, true, false, false, false, true, true, false, false, false, false, false, true, true, false, true, true, false, false, false, false, true, false, true, false, false, false, false, false, true, false, false, true, false, false, true, true, false, true, false, false, false, true, true, true, false, false, false, false, false, false, false, false, false, false, false, true, false, true, true, false, true, false, false, false, false, true, false, true, false, true] },
            { nome: "No√©", perfil: [true, true, false, false, false, false, false, true, false, false, false, false, false, true, false, true, false, true, false, true, true, true, false, true, false, false, true, true, false, false, false, false, false, false, false, true, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, true, true, false, true, true, false, false, false, false, false, false, true, false, false, true, false, true] },
            { nome: "Mateus", perfil: [false, true, false, false, true, false, false, false, true, false, true, false, false, false, false, false, false, false, true, true, true, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, true, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, true, false, true, false, false, false, false, true, false, false, false, true] },
            { nome: "Jeremias", perfil: [true, true, false, false, false, true, false, false, false, false, true, false, false, false, false, false, true, true, false, true, true, false, false, false, false, true, true, true, false, false, false, false, false, false, false, false, false, false, false, true, false, false, true, false, false, false, false, false, true, false, true, false, false, false, false, false, false, false, false, false, true, true, true, true, false, false, false, false, false, false, false, false, false, false, true] },
            { nome: "Sara", perfil: [true, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, true, false, true, false, false, true, true, false, false, false, true, false, false, false, false, false, false, false, true, true, false, false, false, true, false, true, true, false, false, false, false, true, true, true, false, false, false, false, false, false, false, true, false, false, true, true, false, false, false, false, false, false, false, true, false, true, false, true] },
            { nome: "Sans√£o", perfil: [true, true, false, true, false, false, true, false, false, false, false, false, true, false, false, false, false, false, false, true, false, false, false, false, true, true, true, false, false, true, true, true, false, false, false, false, true, false, false, false, false, false, false, true, false, false, false, false, false, true, false, true, true, false, false, false, false, false, false, false, false, true, false, false, false, false, false, false, false, false, false, false, false, false, false] },
            { nome: "Jos√© (filho de Jac√≥)", perfil: [true, true, false, false, false, false, false, false, false, true, false, false, false, false, false, false, true, true, false, true, true, false, false, true, false, true, true, true, false, false, false, false, false, true, true, true, true, false, true, false, false, false, true, false, true, true, true, true, true, true, true, false, false, false, false, false, false, false, false, false, false, false, true, false, false, false, false, false, false, false, true, false, true, false, true] },
            { nome: "Raquel", perfil: [true, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, true, false, false, true, false, false, false, false, false, false, true, false, true, false, false, true, false, true, false, true, true, false, false, false, false, false, true, false, false, false, false, false, false, false, false, false, false, false, false, true, false, false, false, false, false, false, false, true, false, false, false, false] },
            { nome: "Jonas", perfil: [true, true, false, true, false, true, false, false, false, false, true, false, false, false, false, false, true, false, true, true, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, true, false, false, true, true, false, false, false, false, false, false, false, true, false, false, true, false, false, false, false, false, false, false, false, false, true, true, false, false, false, false, true, false, false, false, true] },
            { nome: "Tiago (irm√£o de Jesus/ap√≥stolo)", perfil: [false, true, false, false, true, false, false, false, true, false, true, false, false, false, true, false, false, true, false, true, true, false, false, false, false, false, false, false, false, false, false, false, false, true, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, true, false, false, false, false, false, false, false, false, false, false, true, false, true, true, false, false, false, false, false, false, true, false, false, false, false] },
            { nome: "D√©bora", perfil: [true, false, false, false, false, true, true, false, false, false, false, false, true, false, false, false, false, true, false, true, true, false, false, false, false, false, false, true, false, true, false, false, false, false, false, false, false, true, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, true, false, false, false, false, false, false, false, false, false, true, false, false] },
            { nome: "Samuel", perfil: [true, true, false, false, false, true, false, false, false, false, false, true, true, false, false, false, false, true, false, true, true, false, false, false, false, false, false, true, false, true, false, false, false, false, false, true, false, false, false, true, false, false, false, false, false, false, false, false, true, true, false, false, false, false, false, true, true, false, false, false, false, true, true, true, false, false, false, false, false, true, false, false, true, false, true] },
            { nome: "Ar√£o", perfil: [true, true, false, true, false, false, false, true, false, false, false, true, false, false, false, false, false, false, false, true, false, false, false, false, false, true, false, true, false, false, false, false, true, true, false, true, true, false, false, false, false, false, true, true, false, false, false, false, true, true, false, false, false, false, false, false, false, false, false, false, false, true, false, false, false, false, false, false, false, false, true, true, true, false, true] },
            { nome: "Lia", perfil: [true, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, true, false, false, true, false, false, false, false, false, true, true, false, true, false, false, true, false, false, false, true, false, false, false, false, false, false, true, false, false, false, false, false, false, false, false, false, false, false, false, true, false, false, false, false, false, false, false, true, false, true, false, false] },
            { nome: "Zacarias (pai de Jo√£o Batista)", perfil: [true, true, false, false, true, true, false, false, false, false, true, true, false, false, true, false, false, true, false, true, true, false, false, false, false, false, false, true, false, false, false, false, false, false, false, true, true, false, false, false, false, false, false, true, false, false, false, false, false, false, false, false, true, false, false, false, false, false, false, false, false, true, true, false, false, false, false, true, false, false, false, false, true, false, false] },
            { nome: "Gide√£o", perfil: [true, true, false, true, false, false, true, false, false, false, false, false, true, false, false, false, false, true, false, true, true, false, false, false, false, false, false, true, true, true, false, false, false, true, false, true, true, false, false, false, true, false, false, true, false, false, false, false, false, true, false, false, false, false, false, false, false, false, false, false, false, false, true, false, false, false, false, false, false, true, false, false, true, false, false] },
            { nome: "Jac√≥", perfil: [true, true, false, false, false, false, false, true, false, true, false, false, false, false, false, false, true, true, true, true, true, true, true, true, false, true, true, true, true, false, false, false, true, true, false, true, true, false, true, false, true, false, true, true, false, false, false, false, true, true, true, false, true, false, false, false, false, false, true, false, false, true, true, false, false, false, false, true, true, true, true, false, true, false, true] },
            { nome: "Jo√£o (Ap√≥stolo)", perfil: [false, true, false, true, true, true, false, false, true, false, true, false, false, false, false, false, true, true, true, true, true, false, false, false, false, true, false, true, false, false, false, false, true, true, false, false, true, false, false, false, true, false, true, false, false, false, false, false, false, true, false, false, false, false, false, false, false, false, false, false, false, true, true, true, false, true, false, false, false, false, true, false, true, false, true] },
            { nome: "L√≥", perfil: [true, true, false, false, false, false, true, false, false, false, false, false, false, false, false, false, true, false, false, true, false, false, false, true, false, true, false, false, false, false, false, false, false, true, false, true, true, false, true, false, true, false, true, true, false, false, false, false, false, false, false, false, false, false, false, false, false, false, true, false, false, false, true, false, false, false, false, false, false, false, true, false, true, false, false] }
        ];

        let respostas = []; // Armazena as respostas do usu√°rio
        let index = 0; // √çndice da pergunta atual
        let perguntasSelecionadas = []; // As 10 perguntas aleatoriamente selecionadas
        let candidatosAtuais = []; // Lista de candidatos que ainda correspondem √†s respostas

        /**
         * Embaralha um array.
         * @param {Array} array O array a ser embaralhado.
         * @returns {Array} O array embaralhado.
         */
        function shuffle(array) {
            for (let i = array.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [array[i], array[j]] = [array[j], array[i]];
            }
            return array;
        }

        /**
         * Seleciona 10 perguntas aleat√≥rias do array 'perguntas'
         * e atualiza os perfis dos suspeitos para corresponder a essas perguntas.
         */
        function selecionarPerguntas() {
            const indices = shuffle([...Array(perguntas.length).keys()]);
            perguntasSelecionadas = indices.slice(0, 10).map(i => perguntas[i]);

            // Mapeia os perfis dos suspeitos para corresponder √†s perguntas selecionadas
            suspeitas.forEach(suspeito => {
                suspeito.perfilSelecionado = indices.slice(0, 10).map(i => suspeito.perfil[i]);
            });
            candidatosAtuais = [...suspeitas]; // Inicializa os candidatos com todos os suspeitos
        }

        /**
         * Imprime texto no terminal e rola a barra de rolagem para o final.
         * @param {string} text O texto a ser impresso.
         */
        function print(text) {
            const line = document.createElement("div");
            line.innerHTML = text; // Usar innerHTML para permitir formata√ß√£o (ex: negrito)
            document.getElementById("terminal").appendChild(line);
            document.getElementById("terminal").scrollTop = document.getElementById("terminal").scrollHeight;
        }

        /**
         * Processa a resposta do usu√°rio (Sim/N√£o).
         * Filtra os candidatos restantes e avan√ßa para a pr√≥xima pergunta ou chama o diagn√≥stico final.
         * @param {boolean} resposta True para "Sim", False para "N√£o".
         */
        function processarResposta(resposta) {
            // Impede cliques se os bot√µes estiverem desabilitados
            if (document.getElementById("simBtn").disabled) return;

            print(`>> ${resposta ? "SIM" : "N√ÉO"}`);
            respostas.push(resposta);

            // Filtra os candidatos que ainda correspondem √† resposta atual
            candidatosAtuais = candidatosAtuais.filter(candidato =>
                candidato.perfilSelecionado[index] === resposta
            );

            index++; // Avan√ßa para a pr√≥xima pergunta

            // Se ainda houver perguntas, exibe a pr√≥xima; caso contr√°rio, chama o diagn√≥stico
            if (index < perguntasSelecionadas.length) {
                print(`\nPergunta ${index + 1}/${perguntasSelecionadas.length}: ${perguntasSelecionadas[index]}`);
                document.getElementById("simBtn").focus(); // Foca no bot√£o "Sim" para acessibilidade
            } else {
                diagnosticar();
            }
        }

        /**
         * Realiza o diagn√≥stico final baseado nas respostas do usu√°rio.
         * Calcula a pontua√ß√£o e exibe o personagem mais prov√°vel.
         */
        function diagnosticar() {
            print("\nProcessando respostas...");
            // Desabilita os bot√µes de resposta
            document.getElementById("simBtn").disabled = true;
            document.getElementById("naoBtn").disabled = true;

            setTimeout(() => {
                let melhorCandidato = null;
                let maxPontos = -1;
                let empates = [];

                // Se houver candidatos restantes ap√≥s a filtragem inicial, busca entre eles
                if (candidatosAtuais.length > 0) {
                    candidatosAtuais.forEach(suspeito => {
                        let pontos = 0;
                        for (let i = 0; i < respostas.length; i++) {
                            if (suspeito.perfilSelecionado[i] === respostas[i]) {
                                pontos++;
                            }
                        }
                        if (pontos > maxPontos) {
                            maxPontos = pontos;
                            melhorCandidato = suspeito.nome;
                            empates = [suspeito];
                        } else if (pontos === maxPontos) {
                            empates.push(suspeito);
                        }
                    });
                } else {
                    // Se nenhum candidato correspondeu perfeitamente, encontra o mais pr√≥ximo de todos os suspeitos
                    // Isso acontece se as respostas levaram a um "beco sem sa√≠da" na filtragem
                    suspeitas.forEach(suspeito => {
                        let pontos = 0;
                        for (let i = 0; i < respostas.length; i++) {
                            if (suspeito.perfilSelecionado[i] === respostas[i]) {
                                pontos++;
                            }
                        }
                        if (pontos > maxPontos) {
                            maxPontos = pontos;
                            melhorCandidato = suspeito.nome;
                            empates = [suspeito];
                        } else if (pontos === maxPontos) {
                            empates.push(suspeito);
                        }
                    });
                }

                // Se houver empate entre os melhores candidatos, escolhe um aleatoriamente
                if (empates.length > 1) {
                    melhorCandidato = empates[Math.floor(Math.random() * empates.length)].nome;
                }

                const resultModalDescription = document.getElementById("result-modal-description");
                if (melhorCandidato) {
                    // Exibe o resultado do diagn√≥stico
                    resultModalDescription.innerHTML = `O personagem √© **${melhorCandidato}**?<br><br>
                                                       ${maxPontos}/${perguntasSelecionadas.length} respostas coincidiram com ${melhorCandidato}.<br><br>
                                                       Correto? Gl√≥ria! üôå Sen√£o, clique em 'Reiniciar' para tentar novamente.`;
                } else {
                    // Mensagem se nenhum personagem for identificado
                    resultModalDescription.innerHTML = `N√£o consegui identificar um personagem com base nas suas respostas. üòî<br><br>
                                                       Tente novamente com um personagem diferente ou respostas mais espec√≠ficas.`;
                }
                document.getElementById("result-modal").classList.add("active"); // Ativa o modal de resultado
            }, 1000); // Pequeno atraso para simular "processamento"
        }

        /**
         * Inicia (ou reinicia) o jogo.
         * Reseta o estado do jogo e exibe a primeira pergunta.
         */
        function startGame() {
            // Esconde os modais de in√≠cio e resultado
            document.getElementById("start-modal").classList.remove("active");
            document.getElementById("result-modal").classList.remove("active");
            
            // Reseta vari√°veis do jogo
            respostas = [];
            index = 0;
            document.getElementById("terminal").innerHTML = ""; // Limpa o terminal
            
            // Habilita os bot√µes de resposta
            document.getElementById("simBtn").disabled = false;
            document.getElementById("naoBtn").disabled = false;
            
            selecionarPerguntas(); // Seleciona novas perguntas aleat√≥rias para a nova rodada
            
            // Exibe as mensagens iniciais no terminal
            print("Quem √â da B√≠blia?");
            print("\nPense em um personagem b√≠blico...");
            print(`\nPergunta 1/${perguntasSelecionadas.length}: ${perguntasSelecionadas[0]}`);
            
            document.getElementById("simBtn").focus(); // Foca no bot√£o "Sim"
        }

        // Garante que o script s√≥ seja executado ap√≥s o DOM estar completamente carregado
        document.addEventListener("DOMContentLoaded", () => {
            // Obt√©m refer√™ncias aos elementos DOM
            const simBtn = document.getElementById("simBtn");
            const naoBtn = document.getElementById("naoBtn");
            const startGameBtn = document.getElementById("startGameBtn");
            const restartGameBtn = document.getElementById("restartGameBtn"); // Novo bot√£o de reiniciar

            // Verifica se todos os elementos essenciais foram encontrados
            if (!simBtn || !naoBtn || !startGameBtn || !restartGameBtn) {
                console.error("Um ou mais elementos DOM essenciais n√£o foram encontrados. Verifique os IDs.");
                return; // Aborta se algum elemento crucial estiver faltando
            }

            // Adiciona event listeners aos bot√µes
            startGameBtn.addEventListener("click", startGame);
            restartGameBtn.addEventListener("click", startGame); // O bot√£o "Reiniciar" tamb√©m chama startGame

            simBtn.addEventListener("click", () => processarResposta(true));
            naoBtn.addEventListener("click", () => processarResposta(false));

            // Suporte a teclas 'S' para Sim e 'N' para N√£o
            document.addEventListener("keypress", (e) => {
                if (e.key.toLowerCase() === "s" && !simBtn.disabled) {
                    processarResposta(true);
                } else if (e.key.toLowerCase() === "n" && !naoBtn.disabled) {
                    processarResposta(false);
                }
            });

            // Registro do Service Worker para PWA (Progressive Web App)
            if ("serviceWorker" in navigator) {
                navigator.serviceWorker.register("/service-worker.js")
                    .then(reg => console.log("Service Worker registrado com sucesso:", reg.scope))
                    .catch(err => console.error("Erro ao registrar Service Worker:", err));
            }
        });
    </script>
</body>
</html>
