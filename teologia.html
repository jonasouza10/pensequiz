<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Pensequiz - Curso de Teologia Completo com módulos Básico, Intermediário e Avançado. Aprofunde sua fé cristã!">
    <meta name="keywords" content="teologia, curso de teologia, pensequiz, fé cristã, estudo bíblico">
    <meta name="author" content="Pensequiz Team">
    <title>Pensequiz - Curso de Teologia (Completo)</title>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="manifest" href="manifest.json">
    <meta name="theme-color" content="#1f2937">
    <link rel="icon" href="favicon.ico">
    <link rel="apple-touch-icon" href="icons/icon-192x192.png">
    <style>
        /* Custom styles for Inter font */
        body {
            font-family: 'Inter', sans-serif;
        }
        /* Estilo para o modo escuro */
        .dark body {
            background-color: #1f2937;
            color: #e5e7eb;
        }
        .dark .bg-white {
            background-color: #374151;
        }
        .dark .text-gray-600 {
            color: #d1d5db;
        }
        .dark .text-gray-800 {
            color: #f3f4f6;
        }
        /* Estilo para a barra de progresso */
        #progress-bar {
            height: 5px;
            background-color: #3b82f6;
            transition: width 0.3s ease-in-out;
        }
        /* Smooth transition for dropdowns */
        .group-hover ul { /* Target the ul inside the group-hover li */
            transition: opacity 0.3s ease-in-out, transform 0.3s ease-in-out;
            opacity: 0;
            transform: translateY(-10px);
            pointer-events: none; /* Prevent interaction when hidden */
        }
        .group:hover ul {
            opacity: 1;
            transform: translateY(0);
            pointer-events: auto; /* Allow interaction when visible */
        }
    </style>
</head>
<body class="bg-gray-100 font-sans transition-colors duration-300">
    <header id="main-header" class="bg-gray-800 text-white py-4 sticky top-0 z-20 shadow-md">
        <div class="container mx-auto flex flex-col md:flex-row justify-between items-center px-4">
            <h1 class="text-2xl md:text-3xl font-bold text-center md:text-left mb-2 md:mb-0">Pensequiz - Seu Curso Completo de Teologia</h1>
            <button id="theme-toggle" class="p-2 rounded-full hover:bg-gray-600 focus:outline-none focus:ring-2 focus:ring-blue-500 transition-colors duration-200" aria-label="Alternar modo claro/escuro">
                <svg id="theme-icon" class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 3v1m0 16v1m9-9h-1M4 12H3m15.364 6.364l-.707-.707M6.343 6.343l-.707-.707m12.728 0l-.707.707M6.343 17.657l-.707.707M16 12a4 4 0 11-8 0 4 4 0 018 0z"></path>
                </svg>
            </button>
        </div>
    </header>

    <div id="progress-bar" class="w-0 fixed left-0 z-30"></div>

    <nav id="main-nav" class="bg-gray-700 text-white py-3 shadow-md sticky z-10" role="navigation" aria-label="Navegação principal">
        <div class="container mx-auto px-4">
            <ul class="flex flex-wrap justify-center gap-4 md:gap-6">
                <li><a href="#" data-lesson="home" class="hover:underline focus:outline-none focus:ring-2 focus:ring-blue-500 px-2 py-1 rounded transition-colors duration-200" aria-current="page">Início</a></li>
                <li class="relative group">
                    <a href="#" class="hover:underline cursor-default focus:outline-none focus:ring-2 focus:ring-blue-500 px-2 py-1 rounded transition-colors duration-200" aria-haspopup="true" aria-expanded="false">Básico</a>
                    <ul class="absolute hidden group-hover:block bg-gray-700 text-white p-2 rounded shadow-lg z-10 min-w-[150px] transition-all duration-300 ease-in-out">
                        <li><a href="#" data-lesson="basic-lesson1" class="block px-2 py-1 hover:bg-gray-600 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 transition-colors duration-200">Introdução</a></li>
                        <li><a href="#" data-lesson="basic-lesson2" class="block px-2 py-1 hover:bg-gray-600 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 transition-colors duration-200">Natureza de Deus</a></li>
                        <li><a href="#" data-lesson="basic-lesson3" class="block px-2 py-1 hover:bg-gray-600 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 transition-colors duration-200">Escrituras</a></li>
                        <li><a href="#" data-lesson="basic-lesson4" class="block px-2 py-1 hover:bg-gray-600 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 transition-colors duration-200">Cristologia</a></li>
                        <li><a href="#" data-lesson="basic-lesson5" class="block px-2 py-1 hover:bg-gray-600 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 transition-colors duration-200">Escatologia</a></li>
                    </ul>
                </li>
                <li class="relative group">
                    <a href="#" class="hover:underline cursor-default focus:outline-none focus:ring-2 focus:ring-blue-500 px-2 py-1 rounded transition-colors duration-200" aria-haspopup="true" aria-expanded="false">Intermediário</a>
                    <ul class="absolute hidden group-hover:block bg-gray-700 text-white p-2 rounded shadow-lg z-10 min-w-[150px] transition-all duration-300 ease-in-out">
                        <li><a href="#" data-lesson="intermediate-lesson1" class="block px-2 py-1 hover:bg-gray-600 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 transition-colors duration-200">Pneumatologia</a></li>
                        <li><a href="#" data-lesson="intermediate-lesson2" class="block px-2 py-1 hover:bg-gray-600 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 transition-colors duration-200">Eclesiologia</a></li>
                        <li><a href="#" data-lesson="intermediate-lesson3" class="block px-2 py-1 hover:bg-gray-600 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 transition-colors duration-200">Antropologia Teológica</a></li>
                        <li><a href="#" data-lesson="intermediate-lesson4" class="block px-2 py-1 hover:bg-gray-600 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 transition-colors duration-200">Hamartiologia</a></li>
                    </ul>
                </li>
                <li class="relative group">
                    <a href="#" class="hover:underline cursor-default focus:outline-none focus:ring-2 focus:ring-blue-500 px-2 py-1 rounded transition-colors duration-200" aria-haspopup="true" aria-expanded="false">Avançado</a>
                    <ul class="absolute hidden group-hover:block bg-gray-700 text-white p-2 rounded shadow-lg z-10 min-w-[150px] transition-all duration-300 ease-in-out">
                        <li><a href="#" data-lesson="advanced-lesson1" class="block px-2 py-1 hover:bg-gray-600 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 transition-colors duration-200">Teologia da Aliança</a></li>
                        <li><a href="#" data-lesson="advanced-lesson2" class="block px-2 py-1 hover:bg-gray-600 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 transition-colors duration-200">Teologia Pós-Moderna</a></li>
                        <li><a href="#" data-lesson="advanced-lesson3" class="block px-2 py-1 hover:bg-gray-600 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 transition-colors duration-200">Apologética Contemporânea</a></li>
                    </ul>
                </li>
                <li><a href="#" data-lesson="references" class="hover:underline focus:outline-none focus:ring-2 focus:ring-blue-500 px-2 py-1 rounded transition-colors duration-200">Referências Bibliográficas</a></li>
            </ul>
        </div>
    </nav>

    <main class="container mx-auto py-8 px-4" role="main">
        <div id="lesson-content" aria-live="polite"></div>
    </main>

    <footer class="bg-gray-800 text-white py-4">
        <div class="container mx-auto text-center">
            <p>© 2025 Pensequiz. Todos os direitos reservados.</p>
        </div>
    </footer>

    <script defer>
        // Dados das aulas organizados por níveis
        const lessonsData = {
            home: { id: 'home', title: 'Bem-vindo ao Pensequiz!', content: `
                <section class="bg-white p-6 rounded-lg shadow-md text-center">
                    <h2 class="text-3xl font-bold text-gray-800 mb-4">Bem-vindo ao Pensequiz - Seu Curso Completo de Teologia!</h2>
                    <p class="text-gray-600 mb-6">Explore os fundamentos da fé cristã através de módulos Básico, Intermediário e Avançado. Aprofunde seu conhecimento e fortaleça sua jornada espiritual.</p>
                    <p class="text-gray-600 mb-6">Selecione um módulo no menu acima para começar sua jornada de aprendizado.</p>
                    <img src="https://placehold.co/600x300/a0aec0/ffffff?text=Estude+Teologia" alt="Imagem de boas-vindas ao curso de teologia" class="mx-auto rounded-lg shadow-md mb-6">
                    <a href="#" data-lesson="basic-lesson1" class="bg-blue-600 text-white px-6 py-3 rounded-full hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 transition-colors duration-200 text-lg font-semibold">Comece o Curso Básico</a>
                </section>
            `},
            basic: [
                { id: 'basic-lesson1', title: 'Introdução à Teologia', content: `
                    <section class="bg-white p-6 rounded-lg shadow-md">
                        <h2 class="text-2xl font-semibold text-gray-800 mb-4">Aula Básica 1: Introdução à Teologia</h2>
                        <p class="text-gray-600 mb-4">Teologia é o estudo sistemático de Deus, Sua natureza, Suas obras e Sua relação com a humanidade. Esta aula apresenta os fundamentos da teologia cristã, suas divisões e sua relevância para a fé e a vida.</p>
                        <h3 class="text-xl font-semibold text-gray-800 mt-4 mb-2">O que é Teologia?</h3>
                        <p class="text-gray-600 mb-4">Do grego "theos" (Deus) e "logos" (estudo), teologia busca compreender Deus por meio da razão, Escrituras e tradição. Ela é tanto acadêmica quanto espiritual, guiando a fé e a prática (McGrath, 2020).</p>
                        <h3 class="text-xl font-semibold text-gray-800 mt-4 mb-2">Divisões da Teologia</h3>
                        <ul class="list-disc list-inside text-gray-600 mb-4">
                            <li><strong>Teologia Sistemática</strong>: Organiza doutrinas como Deus, Cristo, salvação (Erickson, 2021).</li>
                            <li><strong>Teologia Bíblica</strong>: Estuda temas nas Escrituras, como redenção.</li>
                            <li><strong>Teologia Histórica</strong>: Analisa o desenvolvimento da doutrina, como os concílios.</li>
                            <li><strong>Teologia Prática</strong>: Aplica a fé à ética, culto e missão (Pannenberg, 2021).</li>
                        </ul>
                        <h3 class="text-xl font-semibold text-gray-800 mt-4 mb-2">Fontes da Teologia</h3>
                        <p class="text-gray-600 mb-4">A teologia cristã se baseia em:</p>
                        <ul class="list-disc list-inside text-gray-600 mb-4">
                            <li><strong>Escrituras</strong>: A Bíblia como revelação divina (2 Timóteo 3:16).</li>
                            <li><strong>Tradição</strong>: Ensinos dos Pais da Igreja, concílios (Ratzinger, 2023).</li>
                            <li><strong>Razão</strong>: Reflexão lógica sobre a fé.</li>
                            <li><strong>Experiência</strong>: Vivência espiritual e comunitária (Wright, 2022).</li>
                        </ul>
                        <h3 class="text-xl font-semibold text-gray-800 mt-4 mb-2">Exemplo Prático</h3>
                        <p class="text-gray-600 mb-4">Um pastor preparando um sermão usa teologia bíblica para explicar João 3:16, teologia sistemática para conectar à doutrina da salvação, e teologia prática para aplicar o amor de Deus à vida diária (Catechism, 2020).</p>
                        <h3 class="text-xl font-semibold text-gray-800 mt-4 mb-2">Importância da Teologia</h3>
                        <p class="text-gray-600 mb-4">A teologia esclarece a fé, fortalece a espiritualidade e orienta decisões éticas. Ela é vital para líderes religiosos, acadêmicos e cristãos que buscam compreender sua fé (Vatican, 2025).</p>
                        <h3 class="text-xl font-semibold text-gray-800 mt-4 mb-2">Key Takeaways</h3>
                        <ul class="list-disc list-inside text-gray-600 mb-4">
                            <li>Teologia é o estudo de Deus, Sua natureza e obras.</li>
                            <li>Divide-se em sistemática, bíblica, histórica e prática.</li>
                            <li>Baseia-se em Escrituras, tradição, razão e experiência.</li>
                        </ul>
                        <h3 class="text-xl font-semibold text-gray-800 mt-4 mb-2">Perguntas para Reflexão</h3>
                        <ul class="list-disc list-inside text-gray-600 mb-4">
                            <li>Como a teologia pode ajudar a responder questões pessoais de fé?</li>
                            <li>Qual fonte (Escritura, tradição, etc.) você acha mais importante? Por quê?</li>
                        </ul>
                        <div class="flex justify-between mt-6">
                            <a href="#" data-lesson="home" class="bg-gray-600 text-white px-4 py-2 rounded hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-blue-500 transition-colors duration-200">Voltar ao Início</a>
                            <a href="#" data-lesson="basic-lesson2" class="bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 transition-colors duration-200">Próxima Aula</a>
                        </div>
                    </section>
                ` },
                { id: 'basic-lesson2', title: 'Natureza de Deus', content: `
                    <section class="bg-white p-6 rounded-lg shadow-md">
                        <h2 class="text-2xl font-semibold text-gray-800 mb-4">Aula Básica 2: A Natureza de Deus</h2>
                        <p class="text-gray-600 mb-4">A teologia estuda quem é Deus, Seus atributos e Sua relação com o mundo. Esta aula explora a doutrina de Deus, incluindo a Trindade e os atributos divinos, com base nas Escrituras e na tradição cristã.</p>
                        <h3 class="text-xl font-semibold text-gray-800 mt-4 mb-2">Quem é Deus?</h3>
                        <p class="text-gray-600 mb-4">No cristianismo, Deus é o Criador eterno, soberano e pessoal, revelado como Pai, Filho e Espírito Santo. Ele é infinito, transcendente e imanente (Erickson, 2021).</p>
                        <h3 class="text-xl font-semibold text-gray-800 mt-4 mb-2">Atributos de Deus</h3>
                        <ul class="list-disc list-inside text-gray-600 mb-4">
                            <li><strong>Omnipotência</strong>: Deus pode tudo (Jeremias 32:17).</li>
                            <li><strong>Omnisciência</strong>: Deus sabe tudo (Salmos 139:1-6).</li>
                            <li><strong>Omnipresença</strong>: Deus está em todos os lugares (Salmos 139:7-12).</li>
                            <li><strong>Amor</strong>: Deus é amor (1 João 4:8).</li>
                            <li><strong>Justiça</strong>: Deus é justo (Deuteronômio 32:4) (McGrath, 2020).</li>
                        </ul>
                        <h3 class="text-xl font-semibold text-gray-800 mt-4 mb-2">A Doutrina da Trindade</h3>
                        <p class="text-gray-600 mb-4">A Trindade ensina que Deus é um em essência, mas três em pessoas: Pai, Filho (Jesus) e Espírito Santo. Cada pessoa é plenamente Deus, distinta, mas não separada (Mateus 28:19; Ratzinger, 2023).</p>
                        <h3 class="text-xl font-semibold text-gray-800 mt-4 mb-2">Exemplo Prático</h3>
                        <p class="text-gray-600 mb-4">Na oração, um cristão se dirige ao Pai, pelo Filho, no Espírito Santo, refletindo a Trindade. O amor de Deus (1 João 4:8) guia decisões éticas, como perdoar outros (Wright, 2022).</p>
                        <h3 class="text-xl font-semibold text-gray-800 mt-4 mb-2">Desafios Teológicos</h3>
                        <p class="text-gray-600 mb-4">Como conciliar a justiça e o amor de Deus diante do sofrimento? A teologia sugere que Deus permite o sofrimento para fins maiores, como crescimento espiritual (Pannenberg, 2021).</p>
                        <h3 class="text-xl font-semibold text-gray-800 mt-4 mb-2">Key Takeaways</h3>
                        <ul class="list-disc list-inside text-gray-600 mb-4">
                            <li>Deus é eterno, pessoal e revelado como Trindade.</li>
                            <li>Seus atributos incluem omnipotência, amor e justiça.</li>
                            <li>A Trindade é central ao cristianismo, unindo Pai, Filho e Espírito.</li>
                        </ul>
                        <h3 class="text-xl font-semibold text-gray-800 mt-4 mb-2">Perguntas para Reflexão</h3>
                        <ul class="list-disc list-inside text-gray-600 mb-4">
                            <li>Como o conceito da Trindade influencia sua compreensão de Deus?</li>
                            <li>Qual atributo de Deus você acha mais relevante para sua vida? Por quê?</li>
                        </ul>
                        <div class="flex justify-between mt-6">
                            <a href="#" data-lesson="basic-lesson1" class="bg-gray-600 text-white px-4 py-2 rounded hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-blue-500 transition-colors duration-200">Aula Anterior</a>
                            <a href="#" data-lesson="basic-lesson3" class="bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 transition-colors duration-200">Próxima Aula</a>
                        </div>
                    </section>
                ` },
                { id: 'basic-lesson3', title: 'Escritura e Revelação', content: `
                    <section class="bg-white p-6 rounded-lg shadow-md">
                        <h2 class="text-2xl font-semibold text-gray-800 mb-4">Aula Básica 3: Escritura e Revelação</h2>
                        <p class="text-gray-600 mb-4">As Escrituras são a principal fonte da teologia cristã, vistas como a revelação de Deus. Esta aula explora o conceito de revelação, a inspiração da Bíblia e sua interpretação.</p>
                        <h3 class="text-xl font-semibold text-gray-800 mt-4 mb-2">O que é Revelação?</h3>
                        <p class="text-gray-600 mb-4">Revelação é Deus se comunicando com a humanidade. Divide-se em:</p>
                        <ul class="list-disc list-inside text-gray-600 mb-4">
                            <li><strong>Revelação Geral</strong>: Deus se revela na natureza e na consciência (Romanos 1:20).</li>
                            <li><strong>Revelação Especial</strong>: Deus se revela por eventos, profetas e, sobretudo, nas Escrituras e em Jesus (Hebreus 1:1-2) (Erickson, 2021).</li>
                        </ul>
                        <h3 class="text-xl font-semibold text-gray-800 mt-4 mb-2">A Bíblia como Escritura</h3>
                        <p class="text-gray-600 mb-4">A Bíblia, composta por Antigo e Novo Testamentos, é considerada inspirada por Deus (2 Timóteo 3:16). Protestantes aceitam 66 livros; católicos incluem os deuterocanônicos (Catechism, 2020).</p>
                        <h3 class="text-xl font-semibold text-gray-800 mt-4 mb-2">Inspiração e Autoridade</h3>
                        <p class="text-gray-600 mb-4">A doutrina da inspiração afirma que Deus guiou os autores humanos da Bíblia, preservando Sua mensagem. A Bíblia é autoritativa para fé e prática (McGrath, 2020).</p>
                        <h3 class="text-xl font-semibold text-gray-800 mt-4 mb-2">Interpretação Bíblica</h3>
                        <p class="text-gray-600 mb-4">A hermenêutica estuda como interpretar a Bíblia, considerando contexto histórico, gênero literário e intenção do autor. Exemplo: Salmos são poéticos, enquanto Atos é histórico (Wright, 2022).</p>
                        <h3 class="text-xl font-semibold text-gray-800 mt-4 mb-2">Exemplo Prático</h3>
                        <p class="text-gray-600 mb-4">Um cristão lê Mateus 5:44 ("Amai vossos inimigos"). Usando hermenêutica, ele considera o contexto do Sermão da Montanha e aplica o ensino perdoando um colega, refletindo o amor de Deus (Ratzinger, 2023).</p>
                        <h3 class="text-xl font-semibold text-gray-800 mt-4 mb-2">Key Takeaways</h3>
                        <ul class="list-disc list-inside text-gray-600 mb-4">
                            <li>Revelação é Deus se comunicando, geral (natureza) ou especial (Escrituras, Jesus).</li>
                            <li>A Bíblia é inspirada e autoritativa para a fé cristã.</li>
                            <li>Hermenêutica ajuda a interpretar a Bíblia corretamente.</li>
                        </ul>
                        <h3 class="text-xl font-semibold text-gray-800 mt-4 mb-2">Perguntas para Reflexão</h3>
                        <ul class="list-disc list-inside text-gray-600 mb-4">
                            <li>Como a revelação geral (natureza) influencia sua visão de Deus?</li>
                            <li>Por que a interpretação cuidadosa da Bíblia é importante?</li>
                        </ul>
                        <div class="flex justify-between mt-6">
                            <a href="#" data-lesson="basic-lesson2" class="bg-gray-600 text-white px-4 py-2 rounded hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-blue-500 transition-colors duration-200">Aula Anterior</a>
                            <a href="#" data-lesson="basic-lesson4" class="bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 transition-colors duration-200">Próxima Aula</a>
                        </div>
                    </section>
                ` },
                { id: 'basic-lesson4', title: 'Cristologia e Soteriologia', content: `
                    <section class="bg-white p-6 rounded-lg shadow-md">
                        <h2 class="text-2xl font-semibold text-gray-800 mb-4">Aula Básica 4: Cristologia e Soteriologia</h2>
                        <p class="text-gray-600 mb-4">Cristologia estuda a pessoa e obra de Jesus Cristo; soteriologia, a doutrina da salvação. Esta aula explora quem é Jesus e como Sua obra proporciona salvação.</p>
                        <h3 class="text-xl font-semibold text-gray-800 mt-4 mb-2">Cristologia: Quem é Jesus?</h3>
                        <p class="text-gray-600 mb-4">Jesus é plenamente Deus e plenamente humano, unido em uma pessoa (Concílio de Calcedônia, 451). Como Filho, Ele é a segunda pessoa da Trindade (João 1:1-14; Ratzinger, 2023).</p>
                        <h3 class="text-xl font-semibold text-gray-800 mt-4 mb-2">Obra de Cristo</h3>
                        <ul class="list-disc list-inside text-gray-600 mb-4">
                            <li><strong>Encarnação</strong>: Deus se fez homem (Filipenses 2:6-8).</li>
                            <li><strong>Morte</strong>: Jesus morreu na cruz pelos pecados da humanidade (1 Coríntios 15:3).</li>
                            <li><strong>Ressurreição</strong>: Ele venceu a morte, garantindo a vida eterna (1 Coríntios 15:4).</li>
                            <li><strong>Ascensão</strong>: Jesus retornou ao Pai, intercedendo por nós (Hebreus 7:25) (Erickson, 2021).</li>
                        </ul>
                        <h3 class="text-xl font-semibold text-gray-800 mt-4 mb-2">Soteriologia: A Salvação</h3>
                        <p class="text-gray-600 mb-4">Salvação é a redenção do pecado e a reconciliação com Deus. Doutrinas incluem:</p>
                        <ul class="list-disc list-inside text-gray-600 mb-4">
                            <li><strong>Justificação</strong>: Perdão dos pecados pela fé (Romanos 5:1).</li>
                            <li><strong>Santificação</strong>: Crescimento em santidade pelo Espírito (1 Tessalonicenses 4:3).</li>
                            <li><strong>Glorificação</strong>: Plena redenção no céu (Romanos 8:30) (McGrath, 2020).</li>
                        </ul>
                        <h3 class="text-xl font-semibold text-gray-800 mt-4 mb-2">Exemplo Prático</h3>
                        <p class="text-gray-600 mb-4">Um cristão confia em Jesus para o perdão (justificação), busca viver piedosamente (santificação) e espera a vida eterna (glorificação). Isso molda sua ética, como ajudar os necessitados (Theological Studies, 2024).</p>
                        <h3 class="text-xl font-semibold text-gray-800 mt-4 mb-2">Key Takeaways</h3>
                        <ul class="list-disc list-inside text-gray-600 mb-4">
                            <li>Jesus é Deus e homem, central à fé cristã.</li>
                            <li>Sua morte e ressurreição proporcionam salvação.</li>
                            <li>Justificação, santificação e glorificação descrevem o processo da salvação.</li>
                        </ul>
                        <h3 class="text-xl font-semibold text-gray-800 mt-4 mb-2">Perguntas para Reflexão</h3>
                        <ul class="list-disc list-inside text-gray-600 mb-4">
                            <li>Como a humanidade de Jesus ajuda você a se relacionar com Ele?</li>
                            <li>O que a salvação significa para sua vida diária?</li>
                        </ul>
                        <div class="flex justify-between mt-6">
                            <a href="#" data-lesson="basic-lesson3" class="bg-gray-600 text-white px-4 py-2 rounded hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-blue-500 transition-colors duration-200">Aula Anterior</a>
                            <a href="#" data-lesson="basic-lesson5" class="bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 transition-colors duration-200">Próxima Aula</a>
                        </div>
                    </section>
                ` },
                { id: 'basic-lesson5', title: 'Escatologia e Ética Cristã', content: `
                    <section class="bg-white p-6 rounded-lg shadow-md">
                        <h2 class="text-2xl font-semibold text-gray-800 mb-4">Aula Básica 5: Escatologia e Ética Cristã</h2>
                        <p class="text-gray-600 mb-4">Escatologia estuda os "últimos tempos" e o destino final da humanidade; ética cristã aplica a fé a decisões morais. Esta aula final conecta esperança futura e vida presente.</p>
                        <h3 class="text-xl font-semibold text-gray-800 mt-4 mb-2">O que é Escatologia?</h3>
                        <p class="text-gray-600 mb-4">Escatologia aborda eventos finais, como a segunda vinda de Cristo, o juízo final, céu e inferno. Ela dá esperança e propósito aos cristãos (Apocalipse 21:1-4; Erickson, 2021).</p>
                        <h3 class="text-xl font-semibold text-gray-800 mt-4 mb-2">Temas Escatológicos</h3>
                        <ul class="list-disc list-inside text-gray-600 mb-4">
                            <li><strong>Segunda Vinda</strong>: Jesus retornará para julgar e reinar (Mateus 24:30).</li>
                            <li><strong>Ressurreição</strong>: Os mortos ressuscitarão (1 Coríntios 15:52).</li>
                            <li><strong>Juízo Final</strong>: Deus julgará todos (Apocalipse 20:12).</li>
                            <li><strong>Novos Céus e Nova Terra</strong>: Reino eterno de Deus (Apocalipse 21:1) (Pannenberg, 2021).</li>
                        </ul>
                        <h3 class="text-xl font-semibold text-gray-800 mt-4 mb-2">Ética Cristã</h3>
                        <p class="text-gray-600 mb-4">A ética cristã baseia-se no amor (Mateus 22:37-40) e na imitação de Cristo. Princípios incluem:</p>
                        <ul class="list-disc list-inside text-gray-600 mb-4">
                            <li><strong>Amor ao Próximo</strong>: Servir outros (Marcos 10:45).</li>
                            <li><strong>Justiça</strong>: Defender os oprimidos (Miqueias 6:8).</li>
                            <li><strong>Integridade</strong>: Viver honestamente (Efésios 4:25) (McGrath, 2020).</li>
                        </ul>
                        <h3 class="text-xl font-semibold text-gray-800 mt-4 mb-2">Exemplo Prático</h3>
                        <p class="text-gray-600 mb-4">Um cristão enfrenta um dilema ético: mentir para proteger um colega. A ética cristã, inspirada pela esperança escatológica de verdade (Apocalipse 21:8), o leva a ser honesto, confiando em Deus (Wright, 2022).</p>
                        <h3 class="text-xl font-semibold text-gray-800 mt-4 mb-2">Conexão entre Escatologia e Ética</h3>
                        <p class="text-gray-600 mb-4">A esperança de novos céus motiva cristãos a viver justamente hoje, sabendo que suas ações refletem o reino de Deus (Theological Studies, 2024).</p>
                        <h3 class="text-xl font-semibold text-gray-800 mt-4 mb-2">Key Takeaways</h3>
                        <ul class="list-disc list-inside text-gray-600 mb-4">
                            <li>Escatologia estuda a segunda vinda, ressurreição e novos céus.</li>
                            <li>Ética cristã baseia-se no amor, justiça e integridade.</li>
                            <li>A esperança escatológica inspira uma vida ética.</li>
                        </ul>
                        <h3 class="text-xl font-semibold text-gray-800 mt-4 mb-2">Perguntas para Reflexão</h3>
                        <ul class="list-disc list-inside text-gray-600 mb-4">
                            <li>Como a esperança do céu influencia suas decisões diárias?</li>
                            <li>Que dilema ético você enfrentou, e como a fé cristã o guiou?</li>
                        </ul>
                        <div class="flex justify-between mt-6">
                            <a href="#" data-lesson="basic-lesson4" class="bg-gray-600 text-white px-4 py-2 rounded hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-blue-500 transition-colors duration-200">Aula Anterior</a>
                            <a href="#" data-lesson="intermediate-lesson1" class="bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 transition-colors duration-200">Próxima Aula</a>
                        </div>
                    </section>
                ` }
            ],
            intermediate: [
                { id: 'intermediate-lesson1', title: 'Pneumatologia', content: `
                    <section class="bg-white p-6 rounded-lg shadow-md">
                        <h2 class="text-2xl font-semibold text-gray-800 mb-4">Aula Intermediária 1: Pneumatologia (Doutrina do Espírito Santo)</h2>
                        <p class="text-gray-600 mb-4">Esta aula aprofunda a doutrina do Espírito Santo, Sua pessoa, obra e dons na vida do crente e da Igreja.</p>
                        <h3 class="text-xl font-semibold text-gray-800 mt-4 mb-2">Pessoa do Espírito Santo</h3>
                        <p class="text-gray-600 mb-4">O Espírito Santo é a terceira pessoa da Trindade, plenamente Deus, com intelecto, emoções e vontade (João 14:16-17; Berkhof, 1996).</p>
                        <h3 class="text-xl font-semibold text-gray-800 mt-4 mb-2">Obra do Espírito Santo</h3>
                        <ul class="list-disc list-inside text-gray-600 mb-4">
                            <li><strong>Regeneração</strong>: Nascer de novo (João 3:5-8).</li>
                            <li><strong>Santificação</strong>: Capacita o crente a viver em santidade (Romanos 8:13).</li>
                            <li><strong>Capacitação</strong>: Concede dons espirituais para o serviço (1 Coríntios 12:4-11).</li>
                            <li><strong>Consolo e Guia</strong>: Ajuda e orienta os crentes (João 16:13).</li>
                        </ul>
                        <h3 class="text-xl font-semibold text-gray-800 mt-4 mb-2">Dons Espirituais</h3>
                        <p class="text-gray-600 mb-4">Exploração dos dons de serviço, de fala e de sinais, e seu propósito na edificação da Igreja.</p>
                        <div class="flex justify-between mt-6">
                            <a href="#" data-lesson="basic-lesson5" class="bg-gray-600 text-white px-4 py-2 rounded hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-blue-500 transition-colors duration-200">Aula Anterior (Básico)</a>
                            <a href="#" data-lesson="intermediate-lesson2" class="bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 transition-colors duration-200">Próxima Aula</a>
                        </div>
                    </section>
                ` },
                { id: 'intermediate-lesson2', title: 'Eclesiologia', content: `
                    <section class="bg-white p-6 rounded-lg shadow-md">
                        <h2 class="text-2xl font-semibold text-gray-800 mb-4">Aula Intermediária 2: Eclesiologia (Doutrina da Igreja)</h2>
                        <p class="text-gray-600 mb-4">Esta aula aborda a natureza, propósito e organização da Igreja, tanto universal quanto local.</p>
                        <h3 class="text-xl font-semibold text-gray-800 mt-4 mb-2">Natureza da Igreja</h3>
                        <p class="text-gray-600 mb-4">A Igreja é o corpo de Cristo, composta por todos os crentes, e a noiva de Cristo (Efésios 1:22-23; Calvin, 2014).</p>
                        <h3 class="text-xl font-semibold text-gray-800 mt-4 mb-2">Propósito da Igreja</h3>
                        <ul class="list-disc list-inside text-gray-600 mb-4">
                            <li><strong>Adoração</strong>: Glorificar a Deus.</li>
                            <li><strong>Edificação</strong>: Crescimento dos crentes.</li>
                            <li><strong>Missão</strong>: Proclamar o Evangelho ao mundo.</li>
                        </ul>
                        <h3 class="text-xl font-semibold text-gray-800 mt-4 mb-2">Organização da Igreja</h3>
                        <p class="text-gray-600 mb-4">Diferentes modelos de governo eclesiástico (episcopal, presbiteriano, congregacional) e a importância dos sacramentos (batismo, ceia do Senhor).</p>
                        <div class="flex justify-between mt-6">
                            <a href="#" data-lesson="intermediate-lesson1" class="bg-gray-600 text-white px-4 py-2 rounded hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-blue-500 transition-colors duration-200">Aula Anterior</a>
                            <a href="#" data-lesson="intermediate-lesson3" class="bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 transition-colors duration-200">Próxima Aula</a>
                        </div>
                    </section>
                ` },
                { id: 'intermediate-lesson3', title: 'Antropologia Teológica', content: `
                    <section class="bg-white p-6 rounded-lg shadow-md">
                        <h2 class="text-2xl font-semibold text-gray-800 mb-4">Aula Intermediária 3: Antropologia Teológica (Doutrina do Homem)</h2>
                        <p class="text-gray-600 mb-4">Esta aula explora a natureza humana à luz da teologia, abordando a criação, a queda e as implicações para a vida cristã.</p>
                        <h3 class="text-xl font-semibold text-gray-800 mt-4 mb-2">Criação do Homem</h3>
                        <p class="text-gray-600 mb-4">O homem foi criado à imagem e semelhança de Deus (Gênesis 1:26-27), dotado de razão, moralidade e capacidade de se relacionar com Deus (Barth, 1960).</p>
                        <h3 class="text-xl font-semibold text-gray-800 mt-4 mb-2">A Queda e o Pecado</h3>
                        <p class="text-gray-600 mb-4">A desobediência de Adão e Eva (Gênesis 3) resultou na queda da humanidade, introduzindo o pecado e suas consequências (Romanos 5:12).</p>
                        <h3 class="text-xl font-semibold text-gray-800 mt-4 mb-2">Implicações para a Vida Cristã</h3>
                        <p class="text-gray-600 mb-4">A antropologia teológica nos ajuda a entender a necessidade da salvação e a dignidade de cada indivíduo como portador da imagem de Deus.</p>
                        <div class="flex justify-between mt-6">
                            <a href="#" data-lesson="intermediate-lesson2" class="bg-gray-600 text-white px-4 py-2 rounded hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-blue-500 transition-colors duration-200">Aula Anterior</a>
                            <a href="#" data-lesson="intermediate-lesson4" class="bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 transition-colors duration-200">Próxima Aula</a>
                        </div>
                    </section>
                ` },
                { id: 'intermediate-lesson4', title: 'Hamartiologia', content: `
                    <section class="bg-white p-6 rounded-lg shadow-md">
                        <h2 class="text-2xl font-semibold text-gray-800 mb-4">Aula Intermediária 4: Hamartiologia (Doutrina do Pecado)</h2>
                        <p class="text-gray-600 mb-4">Esta aula examina a natureza, origem e consequências do pecado, e a necessidade da graça de Deus para a redenção.</p>
                        <h3 class="text-xl font-semibold text-gray-800 mt-4 mb-2">Natureza do Pecado</h3>
                        <p class="text-gray-600 mb-4">Pecado é a transgressão da lei de Deus e a rebelião contra Sua vontade (1 João 3:4). Não é apenas um ato, mas uma condição da natureza humana (Agostinho, 2006).</p>
                        <h3 class="text-xl font-semibold text-gray-800 mt-4 mb-2">Origem e Consequências</h3>
                        <p class="text-gray-600 mb-4">O pecado entrou no mundo através da desobediência de Adão (Romanos 5:12), resultando em separação de Deus, morte espiritual e física.</p>
                        <h3 class="text-xl font-semibold text-gray-800 mt-4 mb-2">A Graça como Solução</h3>
                        <p class="text-gray-600 mb-4">A salvação do pecado é possível somente pela graça de Deus, através da fé em Jesus Cristo (Efésios 2:8-9).</p>
                        <div class="flex justify-between mt-6">
                            <a href="#" data-lesson="intermediate-lesson3" class="bg-gray-600 text-white px-4 py-2 rounded hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-blue-500 transition-colors duration-200">Aula Anterior</a>
                            <a href="#" data-lesson="advanced-lesson1" class="bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 transition-colors duration-200">Próxima Aula (Avançado)</a>
                        </div>
                    </section>
                ` }
            ],
            advanced: [
                { id: 'advanced-lesson1', title: 'Teologia da Aliança', content: `
                    <section class="bg-white p-6 rounded-lg shadow-md">
                        <h2 class="text-2xl font-semibold text-gray-800 mb-4">Aula Avançada 1: Teologia da Aliança</h2>
                        <p class="text-gray-600 mb-4">Esta aula explora a Teologia da Aliança, um sistema teológico que vê a história da redenção como uma série de alianças divinas com a humanidade.</p>
                        <h3 class="text-xl font-semibold text-gray-800 mt-4 mb-2">Conceito de Aliança</h3>
                        <p class="text-gray-600 mb-4">Uma aliança é um pacto solene e vinculativo entre Deus e o homem, estabelecendo termos de relacionamento e responsabilidades (Robertson, 2000).</p>
                        <h3 class="text-xl font-semibold text-gray-800 mt-4 mb-2">Principais Alianças</h3>
                        <ul class="list-disc list-inside text-gray-600 mb-4">
                            <li><strong>Aliança da Obra</strong>: Com Adão, baseada na obediência.</li>
                            <li><strong>Aliança da Graça</strong>: Com Adão após a queda, Noé, Abraão, Moisés, Davi, e culminando em Cristo.</li>
                            <li><strong>Nova Aliança</strong>: Em Jesus Cristo, selada com Seu sangue (Hebreus 8:6-13).</li>
                        </ul>
                        <h3 class="text-xl font-semibold text-gray-800 mt-4 mb-2">Implicações Teológicas</h3>
                        <p class="text-gray-600 mb-4">A Teologia da Aliança oferece uma estrutura para entender a unidade e progressão do plano de salvação de Deus ao longo da história bíblica.</p>
                        <div class="flex justify-between mt-6">
                            <a href="#" data-lesson="intermediate-lesson4" class="bg-gray-600 text-white px-4 py-2 rounded hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-blue-500 transition-colors duration-200">Aula Anterior (Intermediário)</a>
                            <a href="#" data-lesson="advanced-lesson2" class="bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 transition-colors duration-200">Próxima Aula</a>
                        </div>
                    </section>
                ` },
                { id: 'advanced-lesson2', title: 'Teologia Pós-Moderna', content: `
                    <section class="bg-white p-6 rounded-lg shadow-md">
                        <h2 class="text-2xl font-semibold text-gray-800 mb-4">Aula Avançada 2: Teologia Pós-Moderna</h2>
                        <p class="text-gray-600 mb-4">Esta aula explora a Teologia Pós-Moderna, que dialoga com as ideias da pós-modernidade, como a desconstrução de grandes narrativas e a valorização da experiência subjetiva.</p>
                        <h3 class="text-xl font-semibold text-gray-800 mt-4 mb-2">Características da Pós-Modernidade</h3>
                        <p class="text-gray-600 mb-4">Ceticismo em relação à razão universal, pluralismo de verdades, e ênfase na comunidade e na narrativa pessoal (Altizer, 1966).</p>
                        <h3 class="text-xl font-semibold text-gray-800 mt-4 mb-2">Impacto na Teologia</h3>
                        <p class="text-gray-600 mb-4">A teologia pós-moderna busca novas formas de expressar a fé em um mundo fragmentado, valorizando a experiência, a ambiguidade e o diálogo inter-religioso.</p>
                        <h3 class="text-xl font-semibold text-gray-800 mt-4 mb-2">Desafios e Contribuições</h3>
                        <p class="text-gray-600 mb-4">Desafia a teologia a ser menos dogmática e mais relacional, mas pode levar ao relativismo. Contribui para uma fé mais humilde e contextualizada.</p>
                        <div class="flex justify-between mt-6">
                            <a href="#" data-lesson="advanced-lesson1" class="bg-gray-600 text-white px-4 py-2 rounded hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-blue-500 transition-colors duration-200">Aula Anterior</a>
                            <a href="#" data-lesson="advanced-lesson3" class="bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 transition-colors duration-200">Próxima Aula</a>
                        </div>
                    </section>
                ` },
                { id: 'advanced-lesson3', title: 'Apologética Contemporânea', content: `
                    <section class="bg-white p-6 rounded-lg shadow-md">
                        <h2 class="text-2xl font-semibold text-gray-800 mb-4">Aula Avançada 3: Apologética Contemporânea</h2>
                        <p class="text-gray-600 mb-4">Esta aula aborda a apologética cristã no contexto contemporâneo, respondendo a desafios intelectuais e culturais à fé.</p>
                        <h3 class="text-xl font-semibold text-gray-800 mt-4 mb-2">O que é Apologética?</h3>
                        <p class="text-gray-600 mb-4">Apologética é a defesa racional da fé cristã (1 Pedro 3:15), buscando apresentar argumentos convincentes para a verdade do cristianismo (Craig, 2008).</p>
                        <h3 class="text-xl font-semibold text-gray-800 mt-4 mb-2">Desafios Atuais</h3>
                        <p class="text-gray-600 mb-4">Ateísmo, relativismo moral, cientificismo, pluralismo religioso, e a questão do mal e do sofrimento.</p>
                        <h3 class="text-xl font-semibold text-gray-800 mt-4 mb-2">Abordagens Apologéticas</h3>
                        <ul class="list-disc list-inside text-gray-600 mb-4">
                            <li><strong>Evidencialismo</strong>: Foca em evidências históricas e científicas.</li>
                            <li><strong>Pressuposicionalismo</strong>: Argumenta que a cosmovisão cristã é a única coerente.</li>
                            <li><strong>Apologética Cultural</strong>: Dialoga com a cultura para mostrar a relevância do Evangelho.</li>
                        </ul>
                        <h3 class="text-xl font-semibold text-gray-800 mt-4 mb-2">Exemplo Prático</h3>
                        <p class="text-gray-600 mb-4">Ao discutir com um cético, um cristão pode usar argumentos cosmológicos (o universo teve um início), morais (existe um padrão moral objetivo) e históricos (a ressurreição de Jesus) para defender a fé (Lewis, 1952).</p>
                        <div class="flex justify-between mt-6">
                            <a href="#" data-lesson="advanced-lesson2" class="bg-gray-600 text-white px-4 py-2 rounded hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-blue-500 transition-colors duration-200">Aula Anterior</a>
                            <a href="#" data-lesson="references" class="bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 transition-colors duration-200">Referências Bibliográficas</a>
                        </div>
                    </section>
                ` }
            ],
            references: { id: 'references', title: 'Referências Bibliográficas', content: `
                <section class="bg-white p-6 rounded-lg shadow-md">
                    <h2 class="text-2xl font-semibold text-gray-800 mb-4">Referências Bibliográficas</h2>
                    <ul class="list-disc list-inside text-gray-600 mb-4 space-y-2">
                        <li>Agostinho de Hipona. (2006). *Confissões*. Editora Paulus. (Originalmente século IV/V).</li>
                        <li>Altizer, T. J. J. (1966). *The Gospel of Christian Atheism*. The Westminster Press.</li>
                        <li>Berkhof, L. (1996). *Teologia Sistemática*. Cultura Cristã. (Originalmente 1932).</li>
                        <li>Calvin, J. (2014). *Institutas da Religião Cristã*. Editora Cultura Cristã. (Originalmente 1559).</li>
                        <li>Catechism of the Catholic Church. (2020). *Catecismo da Igreja Católica*. Loyola. (Originalmente 1992).</li>
                        <li>Craig, W. L. (2008). *Apologetics: An Introduction*. Crossway Books.</li>
                        <li>Erickson, M. (2021). *Teologia Sistemática*. Editora Vida Nova. (Originalmente 1983).</li>
                        <li>Lewis, C. S. (1952). *Mero Cristianismo*. Editora Martins Fontes.</li>
                        <li>McGrath, A. E. (2020). *Teologia Cristã: Uma Introdução*. Editora Shedd Publicações. (Originalmente 1994).</li>
                        <li>Pannenberg, W. (2021). *Teologia Sistemática*. Editora Academia Cristã. (Originalmente 1988-1993).</li>
                        <li>Ratzinger, J. (Bento XVI). (2023). *Introdução ao Cristianismo*. Editora Loyola. (Originalmente 1968).</li>
                        <li>Robertson, O. P. (2000). *The Christ of the Covenants*. P & R Publishing.</li>
                        <li>Theological Studies Journal. (2024). *Artigos de Periódicos Teológicos*. (Exemplo genérico para referência contínua).</li>
                        <li>Vatican Council II. (2025). *Documentos do Concílio Vaticano II*. (Exemplo genérico para referência contínua).</li>
                        <li>Wright, N. T. (2022). *Surpreendido pela Esperança*. Editora Ultimato. (Originalmente 2007).</li>
                    </ul>
                    <div class="flex justify-start mt-6">
                        <a href="#" data-lesson="home" class="bg-gray-600 text-white px-4 py-2 rounded hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-blue-500 transition-colors duration-200">Voltar ao Início</a>
                    </div>
                </section>
            `}
        };

        // Obtenção de elementos do DOM
        const themeToggle = document.getElementById('theme-toggle');
        const themeIcon = document.getElementById('theme-icon');
        const lessonContent = document.getElementById('lesson-content');
        const navLinks = document.querySelectorAll('nav a[data-lesson]');
        const progressBar = document.getElementById('progress-bar');
        const header = document.getElementById('main-header');
        const nav = document.getElementById('main-nav');

        // Função para definir o tema (claro/escuro)
        function setTheme(isDark) {
            if (isDark) {
                document.body.classList.add('dark');
                // Ícone da lua para o modo escuro
                themeIcon.innerHTML = `<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M20.354 15.354A9 9 0 018.646 3.646 9.003 9.003 0 0012 21a9 9 0 008.354-5.646z"></path>`;
                localStorage.setItem('theme', 'dark');
            } else {
                document.body.classList.remove('dark');
                // Ícone do sol para o modo claro
                themeIcon.innerHTML = `<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 3v1m0 16v1m9-9h-1M4 12H3m15.364 6.364l-.707-.707M6.343 6.343l-.707-.707m12.728 0l-.707.707M6.343 17.657l-.707.707M16 12a4 4 0 11-8 0 4 4 0 018 0z"></path>`;
                localStorage.setItem('theme', 'light');
            }
        }

        // Inicializa o tema com base no armazenamento local ou preferência do sistema
        const savedTheme = localStorage.getItem('theme');
        const prefersDark = window.matchMedia('(prefers-color-scheme: dark)').matches;
        setTheme(savedTheme === 'dark' || (savedTheme === null && prefersDark));

        // Listener de evento para alternar o tema
        themeToggle.addEventListener('click', () => {
            setTheme(!document.body.classList.contains('dark'));
        });

        // Função para carregar o conteúdo da aula
        function loadLesson(lessonId) {
            let contentToLoad = '';
            let lessonTitle = '';

            // Verifica se a aula é um item de nível superior (home, references)
            if (lessonsData[lessonId] && typeof lessonsData[lessonId] === 'object' && !Array.isArray(lessonsData[lessonId])) {
                contentToLoad = lessonsData[lessonId].content;
                lessonTitle = lessonsData[lessonId].title;
            } else {
                // Procura a aula dentro dos níveis (basic, intermediate, advanced)
                for (const level in lessonsData) {
                    if (Array.isArray(lessonsData[level])) {
                        const foundLesson = lessonsData[level].find(lesson => lesson.id === lessonId);
                        if (foundLesson) {
                            contentToLoad = foundLesson.content;
                            lessonTitle = foundLesson.title;
                            break;
                        }
                    }
                }
            }

            if (contentToLoad) {
                lessonContent.innerHTML = contentToLoad;
                document.title = `Pensequiz - ${lessonTitle}`; // Atualiza o título da página
                // Rola suavemente para o topo da área de conteúdo
                lessonContent.scrollIntoView({ behavior: 'smooth', block: 'start' });
            } else {
                // Mensagem de erro se a aula não for encontrada
                lessonContent.innerHTML = `<section class="bg-white p-6 rounded-lg shadow-md text-center">
                                            <h2 class="text-2xl font-semibold text-gray-800 mb-4">Conteúdo não encontrado!</h2>
                                            <p class="text-gray-600">A aula que você tentou acessar não está disponível.</p>
                                            <a href="#" data-lesson="home" class="bg-blue-600 text-white px-4 py-2 rounded mt-4 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 transition-colors duration-200">Voltar ao Início</a>
                                        </section>`;
                document.title = `Pensequiz - Erro`;
            }
        }

        // Listener de evento para links de navegação (delegação para conteúdo dinâmico)
        document.addEventListener('click', (event) => {
            const target = event.target;
            // Verifica se o elemento clicado ou seu pai é um link de aula
            const lessonLink = target.closest('a[data-lesson]');
            if (lessonLink) {
                event.preventDefault(); // Previne o comportamento padrão do link
                const lessonId = lessonLink.dataset.lesson;
                loadLesson(lessonId);

                // Atualiza aria-current para o link ativo (para acessibilidade)
                navLinks.forEach(link => link.removeAttribute('aria-current'));
                if (lessonLink.closest('ul.absolute')) { // Se for um item de submenu
                    // Encontra o gatilho do dropdown pai e define aria-current nele
                    const parentDropdown = lessonLink.closest('li.group').querySelector('a');
                    if (parentDropdown) {
                        parentDropdown.setAttribute('aria-current', 'page');
                    }
                } else { // Se for um item de navegação de nível superior
                    lessonLink.setAttribute('aria-current', 'page');
                }
            }
        });

        // Lógica da barra de progresso de rolagem
        function updateProgressBar() {
            const scrollHeight = document.documentElement.scrollHeight - document.documentElement.clientHeight;
            const scrolled = document.documentElement.scrollTop;
            const progress = (scrolled / scrollHeight) * 100;
            progressBar.style.width = `${progress}%`;
        }

        // Ajusta as posições fixas da navegação e da barra de progresso
        // com base na altura do cabeçalho
        function adjustStickyPositions() {
            const headerHeight = header.offsetHeight;
            nav.style.top = `${headerHeight}px`;
            progressBar.style.top = `${headerHeight}px`;
        }

        // Carrega o conteúdo inicial, ajusta posições e atualiza a barra de progresso no carregamento da página
        window.addEventListener('load', () => {
            loadLesson('home'); // Carrega o conteúdo da página inicial
            adjustStickyPositions(); // Ajusta as posições fixas
            updateProgressBar(); // Atualiza a barra de progresso
        });

        // Listeners de evento para rolagem e redimensionamento da janela
        window.addEventListener('scroll', updateProgressBar);
        window.addEventListener('resize', adjustStickyPositions);
    </script>
</body>
</html>