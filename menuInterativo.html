<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="icon" type="image/png" href="iconepq.png">
	<link rel="icon" type="image/png" href="iconepq.png">
    <title>PenseQuiz.com - Livros da BÃ­blia</title>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <script src="https://cdn.tailwindcss.com"></script>
    
    <link rel="manifest" href="/manifest.json">
    <meta name="theme-color" content="#0d1226">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="apple-mobile-web-app-title" content="PenseQuiz.com">

<style>
    /* Global styles for the document body, using Inter font and a dark navy gradient */
    body {
        font-family: 'Inter', sans-serif;
        background: linear-gradient(to bottom right, #0d1226, #1a2033); /* Dark navy gradient */
        color: #e2e8f0; /* Very light gray text */
        min-height: 100vh;
        display: flex;
        align-items: center;
        justify-content: center;
        padding: 1rem;
    }

    .container {
        background-color: #1a2033; /* Dark navy for the main container */
        border: 1px solid #2d3748; /* Medium gray border */
        box-shadow: 0 8px 16px rgba(0, 0, 0, 0.4); /* More pronounced and darker shadow */
        border-radius: 1rem; /* More rounded corners */
        max-width: 1200px; /* Increased max-width to accommodate more buttons */
        width: 100%;
    }

    .header {
        background-color: #2d3748; /* Medium gray background for the header */
        border-radius: 0.75rem; /* Rounded corners */
    }

    /* Base style for all book buttons */
    .book-button {
        color: #ffffff; /* White text */
        font-weight: 600; /* font-semibold */
        padding: 0.75rem 1.5rem; /* Adjusted padding */
        border-radius: 0.5rem; /* Rounded corners */
        transition: all 0.3s ease-in-out; /* Smooth transition for effects */
        box-shadow: 0 2px 4px rgba(0, 0, 0, 0.2); /* Subtle shadow */
        cursor: pointer;
        border: none; /* Remove default border */
        display: flex; /* To center text */
        align-items: center;
        justify-content: center;
        text-align: center;
        text-decoration: none; /* Remove link underline */
        width: 100%; /* Ensures buttons within the dropdown take full width */
    }

    /* Style for Old Testament buttons */
    .old-testament-button {
        background-color: #34495e; /* Grayish blue */
    }

    .old-testament-button:hover {
        background-color: #2c3e50; /* Darker grayish blue on hover */
        transform: translateY(-2px) scale(1.02); /* Slight lift and scale */
        box-shadow: 0 4px 8px rgba(0, 0, 0, 0.3); /* More pronounced shadow on hover */
    }

    .old-testament-button:active {
        background-color: #1f2a38; /* Even darker grayish blue on active */
        transform: translateY(0) scale(1.0); /* Return to original position */
        box-shadow: 0 1px 2px rgba(0, 0, 0, 0.1); /* Softer shadow on active */
    }

    /* Style for New Testament buttons */
    .new-testament-button {
        background-color: #27ae60; /* Vibrant green */
    }

    .new-testament-button:hover {
        background-color: #229954; /* Darker green on hover */
        transform: translateY(-2px) scale(1.02);
        box-shadow: 0 4px 8px rgba(0, 0, 0, 0.3);
    }

    .new-testament-button:active {
        background-color: #1e8449; /* Even darker green on active */
        transform: translateY(0) scale(1.0);
        box-shadow: 0 1px 2px rgba(0, 0, 0, 0.1);
    }

    /* Style for the Praise button */
    .praise-button {
        background-color: #8B5CF6; /* Vibrant purple */
        color: white;
        font-weight: 700; /* font-bold */
        padding: 1rem 2rem; /* Generous padding */
        border-radius: 0.75rem; /* Rounded corners */
        transition: all 0.3s ease-in-out;
        box-shadow: 0 4px 8px rgba(0, 0, 0, 0.3);
        cursor: pointer;
        border: none;
        display: inline-flex; /* To center text and allow margin */
        align-items: center;
        justify-content: center;
        text-align: center;
        text-decoration: none;
        font-size: 1.5rem; /* Larger font size */
        margin-top: 2rem; /* Top spacing */
        width: auto; /* Auto width */
    }

    .praise-button:hover {
        background-color: #7C3AED; /* Darker purple on hover */
        transform: translateY(-3px) scale(1.03);
        box-shadow: 0 6px 12px rgba(0, 0, 0, 0.4);
    }

    .praise-button:active {
        background-color: #6D28D9; /* Even darker purple on active */
        transform: translateY(0) scale(1.0);
        box-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);
    }

    /* Style for the new Theology Course button */
    .theology-course-button {
        background-color: #06b6d4; /* Cyan color */
        color: white;
        font-weight: 700; /* font-bold */
        padding: 1rem 2rem; /* Generous padding */
        border-radius: 0.75rem; /* Rounded corners */
        transition: all 0.3s ease-in-out;
        box-shadow: 0 4px 8px rgba(0, 0, 0, 0.3);
        cursor: pointer;
        border: none;
        display: inline-flex; /* To center text and allow margin */
        align-items: center;
        justify-content: center;
        text-align: center;
        text-decoration: none;
        font-size: 1.5rem; /* Larger font size */
        margin-top: 2rem; /* Top spacing */
        width: auto; /* Auto width */
        margin-right: 1rem; /* Spacing from the praise button */
    }

    .theology-course-button:hover {
        background-color: #0891b2; /* Darker cyan on hover */
        transform: translateY(-3px) scale(1.03);
        box-shadow: 0 6px 12px rgba(0, 0, 0, 0.4);
    }

    .theology-course-button:active {
        background-color: #0e7490; /* Even darker cyan on active */
        transform: translateY(0) scale(1.0);
        box-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);
    }


    h1, h2 {
        color: #f8fafc; /* Very light white titles */
    }

    .text-gray-200 { /* For paragraph text */
        color: #cbd5e0; /* Adjusted to light bluish gray */
    }

    .section-title {
        color: #f8fafc;
        font-size: 2.25rem; /* text-3xl */
        font-weight: 700; /* font-bold */
        margin-top: 2.5rem; /* mt-10 */
        margin-bottom: 1.5rem; /* mb-6 */
        text-shadow: 0 2px 4px rgba(0, 0, 0, 0.3);
    }

    /* Styles for the footer */
    .footer {
        margin-top: 3rem; /* Top spacing */
        padding-top: 1.5rem; /* Inner padding */
        border-top: 1px solid #2d3748; /* Subtle top border */
        color: #a0aec0; /* Softer text color for the footer */
        font-size: 0.9rem;
    }

    .footer a {
        color: #90cdf4; /* Link color for email/phone */
        text-decoration: none;
        transition: color 0.3s ease;
    }

    .footer a:hover {
        color: #63b3ed; /* Hover color for links */
    }

    /* Styles for Dropdown */
    .dropdown {
        position: relative; /* Required to position dropdown content */
        display: inline-block; /* Allows dropdowns to sit side-by-side if space allows */
        width: 100%; /* Takes full width of parent */
        margin-bottom: 1rem; /* Spacing between dropdowns */
    }

    .dropdown-button {
        background-color: #4a5568; /* Background color for dropdown button */
        color: white;
        padding: 1rem 1.5rem;
        font-size: 1.25rem; /* text-xl */
        font-weight: 700; /* font-bold */
        border: none;
        cursor: pointer;
        border-radius: 0.75rem; /* Rounded corners */
        width: 100%; /* Takes full width of parent */
        display: flex;
        justify-content: space-between;
        align-items: center;
        transition: background-color 0.3s ease;
        box-shadow: 0 4px 6px rgba(0, 0, 0, 0.3);
    }

    .dropdown-button:hover {
        background-color: #2d3748; /* Darker color on hover */
    }

    .dropdown-content {
        display: none; /* Hide content by default */
        position: absolute;
        background-color: #1a2033; /* Dropdown content background */
        min-width: 100%; /* Minimum width equal to button */
        box-shadow: 0px 8px 16px 0px rgba(0,0,0,0.4);
        z-index: 1; /* Ensures dropdown is above other elements */
        border-radius: 0.5rem;
        padding: 0.5rem;
        max-height: 300px; /* Max height for dropdown content */
        overflow-y: auto; /* Add scroll if content is too large */
        margin-top: 0.5rem; /* Spacing between button and content */
        left: 0; /* Align dropdown to the left of the button */
        right: 0; /* Align dropdown to the right of the button */
    }

    .dropdown-content a {
        color: #e2e8f0; /* Text color of links in dropdown */
        padding: 0.75rem 1rem;
        text-decoration: none;
        display: block;
        text-align: left; /* Align text to the left */
        transition: background-color 0.2s ease;
        border-radius: 0.375rem; /* Rounded corners for items */
    }

    .dropdown-content a:hover {
        background-color: #2d3748; /* Background color on hover for links */
    }

    .dropdown-content.show {
        display: block; /* Show content when 'show' class is added */
    }

    /* Arrow icon for dropdown */
    .arrow-icon {
        transition: transform 0.3s ease;
    }

    .dropdown-button.active .arrow-icon {
        transform: rotate(180deg); /* Rotate arrow up when dropdown is active */
    }

    /* Responsiveness for the button grid within the dropdown */
    .dropdown-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(120px, 1fr)); /* Adjust number of columns */
        gap: 0.5rem; /* Spacing between buttons */
    }

    @media (min-width: 640px) { /* sm */
        .dropdown-grid {
            grid-template-columns: repeat(auto-fit, minmax(140px, 1fr));
        }
    }

    @media (min-width: 768px) { /* md */
        .dropdown-grid {
            grid-template-columns: repeat(auto-fit, minmax(160px, 1fr));
        }
    }

    @media (min-width: 1024px) { /* lg */
        .dropdown-grid {
            grid-template-columns: repeat(auto-fit, minmax(180px, 1fr));
        }
    }
</style>
</head>
<body class="min-h-screen flex items-center justify-center p-4">
    <div class="container mx-auto p-6 text-center shadow-xl">
        <div class="header p-4 rounded-lg mb-6">
            <h1 class="text-4xl sm:text-5xl font-bold text-white mb-2">PenseQuiz.com</h1>
            <h2 class="text-3xl font-semibold text-gray-200">Livros da BÃ­blia Interativos</h2>
        </div>

        <p class="text-lg leading-relaxed text-blue-100 mb-8">Selecione um livro para explorar seus panoramas, personagens, temas e testar seus conhecimentos com um quiz!</p>

        <div class="flex flex-col items-center mb-8">
            <div class="dropdown">
                <button class="dropdown-button" id="oldTestamentDropdownBtn">
                    Antigo Testamento
                    <svg class="arrow-icon w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path>
                    </svg>
                </button>
                <div class="dropdown-content" id="oldTestamentDropdownContent">
                    <div class="dropdown-grid" id="oldTestamentGrid">
                        </div>
                </div>
            </div>

            <div class="dropdown">
                <button class="dropdown-button" id="newTestamentDropdownBtn">
                    Novo Testamento
                    <svg class="arrow-icon w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path>
                    </svg>
                </button>
                <div class="dropdown-content" id="newTestamentDropdownContent">
                    <div class="dropdown-grid" id="newTestamentGrid">
                        </div>
                </div>
            </div>
        </div>
        

        <div class="footer">
            <p>Direitos Reservados Â©PenseQuiz.com</p>
            <p>Contato: <a href="mailto:contato@pense.com">juniosilvasouza@yahoo.com.br</a></p>
            <p>Telefone: <a href="tel:+5592988562216">(92) 98856-2216</a></p>
        </div>

    </div>

    <script type="application/json" id="manifest-data-index">
        {
            "name": "PenseQuiz.com - Livros da BÃ­blia",
            "short_name": "PenseQuiz",
            "description": "Explore os livros da BÃ­blia de forma interativa e teste seus conhecimentos.",
            "start_url": "./index.html",
            "display": "standalone",
            "background_color": "#0d1226",
            "theme_color": "#0d1226",
            "icons": [
                {
                    "src": "https://placehold.co/192x192/0d1226/ffffff?text=PQ",
                    "sizes": "192x192",
                    "type": "image/png"
                },
                {
                    "src": "https://placehold.co/512x512/0d1226/ffffff?text=PQ",
                    "sizes": "512x512",
                    "type": "image/png"
                }
            ]
        }
    </script>

    <script id="service-worker-script-index">
        // service-worker.js for the main index page
        const CACHE_NAME_INDEX = 'pensequiz-index-v1';
        const urlsToCacheIndex = [
            './index.html',
            './manifest.json',
            'https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap',
            'https://cdn.tailwindcss.com',
            // Add other static resources you want to cache here, e.g., images for icons
            // For now, we'll assume the individual book pages will have their own service workers
            // or be fetched on demand.
        ];

        self.addEventListener('install', event => {
            event.waitUntil(
                caches.open(CACHE_NAME_INDEX)
                    .then(cache => {
                        console.log('Opened cache for PenseQuiz Index');
                        return cache.addAll(urlsToCacheIndex);
                    })
            );
        });

        self.addEventListener('fetch', event => {
            event.respondWith(
                caches.match(event.request)
                    .then(response => {
                        // Cache hit - return response
                        if (response) {
                            return response;
                        }
                        // No cache - fetch from network
                        return fetch(event.request);
                    })
            );
        });

        self.addEventListener('activate', event => {
            const cacheWhitelist = [CACHE_NAME_INDEX];
            event.waitUntil(
                caches.keys().then(cacheNames => {
                    return Promise.all(
                        cacheNames.map(cacheName => {
                            if (cacheWhitelist.indexOf(cacheName) === -1) {
                                return caches.delete(cacheName);
                            }
                        })
                    );
                })
            );
        });
    </script>

    <script>
        // Registers the Service Worker for the index page
        if ('serviceWorker' in navigator) {
            window.addEventListener('load', () => {
                const serviceWorkerScript = document.getElementById('service-worker-script-index');
                const serviceWorkerBlob = new Blob([serviceWorkerScript.textContent], { type: 'application/javascript' });
                const serviceWorkerBlobUrl = URL.createObjectURL(serviceWorkerBlob);

                navigator.serviceWorker.register(serviceWorkerBlobUrl)
                    .then(registration => {
                        console.log('Service Worker for PenseQuiz Index registered successfully:', registration);
                    })
                    .catch(error => {
                        console.log('Failed to register Service Worker for PenseQuiz Index:', error);
                    });
            });
        }

        // Function to dynamically load manifest.json for the index page
        document.addEventListener('DOMContentLoaded', () => {
            const manifestData = document.getElementById('manifest-data-index').textContent;
            const blob = new Blob([manifestData], { type: 'application/json' });
            const url = URL.createObjectURL(blob);
            const link = document.createElement('link');
            link.rel = 'manifest';
            link.href = url;
            document.head.appendChild(link);
        });

        // Separate lists for Old and New Testaments
        const oldTestamentBooks = [
            "GÃªnesis", "Ãxodo", "LevÃ­tico", "NÃºmeros", "DeuteronÃ´mio",
            "JosuÃ©", "JuÃ­zes", "Rute", "1 Samuel", "2 Samuel",
            "1 Reis", "2 Reis", "1 CrÃ´nicas", "2 CrÃ´nicas", "Esdras",
            "Neemias", "Ester", "JÃ³", "Salmos", "ProvÃ©rbios",
            "Eclesiastes", "CÃ¢nticos", "IsaÃ­as", "Jeremias", "LamentaÃ§Ãµes",
            "Ezequiel", "Daniel", "OsÃ©ias", "Joel", "AmÃ³s",
            "Obadias", "Jonas", "MiquÃ©ias", "Naum", "Habacuque",
            "Sofonias", "Ageu", "Zacarias", "Malaquias"
        ];

        const newTestamentBooks = [
            "Mateus", "Marcos", "Lucas", "JoÃ£o", "Atos",
            "Romanos", "1 CorÃ­ntios", "2 CorÃ­ntios", "GÃ¡latas", "EfÃ©sios",
            "Filipenses", "Colossenses", "1 Tessalonicenses", "2 Tessalonicenses",
            "1 TimÃ³teo", "2 TimÃ³teo", "Tito", "Filemom", "Hebreus",
            "Tiago", "1 Pedro", "2 Pedro", "1 JoÃ£o", "2 JoÃ£o",
            "3 JoÃ£o", "Judas", "Apocalipse"
        ];

        // Function to normalize book names for URLs
        function normalizeBookName(name) {
            return name
                .toLowerCase()
                .normalize("NFD").replace(/[\u0300-\u036f]/g, "") // Removes accents
                .replace(/\s/g, '') // Removes spaces
                .replace(/1/g, '1') // Keeps numbers
                .replace(/2/g, '2')
                .replace(/3/g, '3')
                .replace(/cÃ¢nticos/g, 'canticos'); // Exception for "CÃ¢nticos"
        }

        // Function to generate book buttons inside dropdowns
        function generateBookButtons() {
            const oldTestamentGrid = document.getElementById('oldTestamentGrid');
            const newTestamentGrid = document.getElementById('newTestamentGrid');

            oldTestamentGrid.innerHTML = ''; // Clears any existing content
            newTestamentGrid.innerHTML = ''; // Clears any existing content

            // Generate buttons for the Old Testament
            oldTestamentBooks.forEach(bookName => {
                const button = document.createElement('a');
                const normalizedName = normalizeBookName(bookName);
                
                // All links follow the pattern normalizedName.html
                let href = `${normalizedName}.html`;
                button.href = href;
                button.className = 'book-button old-testament-button text-lg'; // Adds the specific class
                button.textContent = bookName;
                oldTestamentGrid.appendChild(button);
            });

            // Generate buttons for the New Testament
            newTestamentBooks.forEach(bookName => {
                const button = document.createElement('a');
                const normalizedName = normalizeBookName(bookName);
                
                // All links follow the pattern normalizedName.html
                // The normalizeBookName function already handles "1 JoÃ£o", "2 JoÃ£o", "3 JoÃ£o", "Judas" and "Apocalipse"
                let href = `${normalizedName}.html`; 
                button.href = href;
                button.className = 'book-button new-testament-button text-lg'; // Adds the specific class
                button.textContent = bookName;
                newTestamentGrid.appendChild(button);
            });
        }

        // Function to toggle dropdown visibility
        function toggleDropdown(buttonId, contentId) {
            const dropdownButton = document.getElementById(buttonId);
            const dropdownContent = document.getElementById(contentId);

            dropdownButton.classList.toggle('active'); // Add/remove 'active' class to rotate arrow
            dropdownContent.classList.toggle('show'); // Add/remove 'show' class to show/hide
        }

        // Event Listeners for dropdown buttons
        document.addEventListener('DOMContentLoaded', () => {
            generateBookButtons(); // Generates buttons when the page loads

            const oldTestamentDropdownBtn = document.getElementById('oldTestamentDropdownBtn');
            const newTestamentDropdownBtn = document.getElementById('newTestamentDropdownBtn');
            const oldTestamentDropdownContent = document.getElementById('oldTestamentDropdownContent');
            const newTestamentDropdownContent = document.getElementById('newTestamentDropdownContent');

            oldTestamentDropdownBtn.addEventListener('click', (event) => {
                event.stopPropagation(); // Prevents click from propagating to document and closing dropdown
                toggleDropdown('oldTestamentDropdownBtn', 'oldTestamentDropdownContent');
                // Close the other dropdown if it's open
                if (newTestamentDropdownContent.classList.contains('show')) {
                    toggleDropdown('newTestamentDropdownBtn', 'newTestamentDropdownContent');
                }
            });

            newTestamentDropdownBtn.addEventListener('click', (event) => {
                event.stopPropagation(); // Prevents click from propagating to document and closing dropdown
                toggleDropdown('newTestamentDropdownBtn', 'newTestamentDropdownContent');
                // Close the other dropdown if it's open
                if (oldTestamentDropdownContent.classList.contains('show')) {
                    toggleDropdown('oldTestamentDropdownBtn', 'oldTestamentDropdownContent');
                }
            });

            // Close dropdowns if user clicks outside them
            window.addEventListener('click', (event) => {
                if (oldTestamentDropdownContent.classList.contains('show') && !event.target.closest('.dropdown')) {
                    toggleDropdown('oldTestamentDropdownBtn', 'oldTestamentDropdownContent');
                }
                if (newTestamentDropdownContent.classList.contains('show') && !event.target.closest('.dropdown')) {
                    toggleDropdown('newTestamentDropdownBtn', 'newTestamentDropdownContent');
                }
            });

            // Logic for the Praise (Play/Pause) button
            const praiseButton = document.getElementById('praiseButton');
            const praiseAudio = document.getElementById('praiseAudio');

            praiseButton.addEventListener('click', async () => { // Added 'async' to use await
                if (praiseAudio.paused) {
                    try {
                        await praiseAudio.play(); // Use await for play()
                        praiseButton.textContent = 'Louvor (Pause)';
                    } catch (error) {
                        // Check if the error is an AbortError
                        if (error.name === 'AbortError') {
                            console.log('Audio playback was interrupted (AbortError). This can happen if the user clicks too fast.');
                        } else {
                            console.error('Error trying to play audio:', error);
                        }
                        // Keep button text as Play if playback fails
                        praiseButton.textContent = 'Louvor (Play)';
                    }
                } else {
                    praiseAudio.pause();
                    praiseButton.textContent = 'Louvor (Play)';
                }
            });

            // Optional: Update button text if audio finishes playing
            praiseAudio.addEventListener('ended', () => {
                praiseButton.textContent = 'Louvor (Play)';
            });
        });
    </script>
</body>
</html>
